import{R as _,a as et,u as tt,r as g,c as Ze,s as nt,f as r,j as t,F as U,g as $e}from"./index-a90aa29c.js";import{a as n}from"./formatNumeric-862380d6.js";import{S as rt}from"./SelectField-917481a8.js";import{F as it,a as lt}from"./formik.esm-c4fd04ca.js";import{t as st}from"./constant-e85f1578.js";import{S as ct}from"./sweetalert2.all-ca2d1030.js";import"./react-select.esm-b46d9623.js";import"./createSuper-98fcd92d.js";import"./floating-ui.dom-0aeb9e8a.js";import"./lodash-f7ec5310.js";const ot=_.createContext({}),De=!0;function pt({baseColor:m,highlightColor:u,width:e,height:a,borderRadius:f,circle:b,direction:N,duration:p,enableAnimation:h=De,customHighlightBackground:l}){const i={};return N==="rtl"&&(i["--animation-direction"]="reverse"),typeof p=="number"&&(i["--animation-duration"]=`${p}s`),h||(i["--pseudo-element-display"]="none"),(typeof e=="string"||typeof e=="number")&&(i.width=e),(typeof a=="string"||typeof a=="number")&&(i.height=a),(typeof f=="string"||typeof f=="number")&&(i.borderRadius=f),b&&(i.borderRadius="50%"),typeof m<"u"&&(i["--base-color"]=m),typeof u<"u"&&(i["--highlight-color"]=u),typeof l=="string"&&(i["--custom-highlight-background"]=l),i}function R({count:m=1,wrapper:u,className:e,containerClassName:a,containerTestId:f,circle:b=!1,style:N,...p}){var h,l,i;const C=_.useContext(ot),v={...p};for(const[s,c]of Object.entries(p))typeof c>"u"&&delete v[s];const A={...C,...v,circle:b},k={...N,...pt(A)};let E="react-loading-skeleton";e&&(E+=` ${e}`);const S=(h=A.inline)!==null&&h!==void 0?h:!1,d=[],y=Math.ceil(m);for(let s=0;s<y;s++){let c=k;if(y>m&&s===y-1){const x=(l=c.width)!==null&&l!==void 0?l:"100%",T=m%1,I=typeof x=="number"?x*T:`calc(${x} * ${T})`;c={...c,width:I}}const w=_.createElement("span",{className:E,style:c,key:s},"‌");S?d.push(w):d.push(_.createElement(_.Fragment,{key:s},w,_.createElement("br",null)))}return _.createElement("span",{className:a,"data-testid":f,"aria-live":"polite","aria-busy":(i=A.enableAnimation)!==null&&i!==void 0?i:De},u?d.map((s,c)=>_.createElement(u,{key:c},s)):d)}const mt="admin",Nt=()=>{var E,S,d,y,s,c,w,x,T,I,P,O,M,L,j,H,G,V,F,K,Y,B,W,z,J,X,q,Q,Z,$,D,ee,te,ne,re,ie,le,se,ce,oe,pe,me,he,_e,ue,ae,fe,de,ge,ye,xe,be,Ne,ve,Ae,Ee,we,Te,Se,Ie,Re,ke,Ue,Ce,Pe,Oe,Me,Le,je,He,Ge,Ve,Fe,Ke,Ye,Be,We,ze,Je,Xe,qe;const m=et(),u=tt(),[e,a]=g.useState(),[f,b]=g.useState([]),N=ct.mixin(st),p=localStorage.getItem(mt),h=p?JSON.parse(p):null,l=h?h.role:null;l!="admin"&&l!="business_unit"&&u("/");const[i,C]=g.useState(p?JSON.parse(p):null);g.useState(null);const{mutateAsync:v,isLoading:A}=Ze($e.dashboardFindAllV2,{onSuccess:o=>{o.statusCode==200&&a(o.data)},onError:o=>console.log(o)}),{mutate:k}=Ze($e.businessUnitFindAll,{onSuccess:o=>{b(o.data.list.map(Qe=>({value:Qe.id,label:Qe.name})))},onError:()=>{}});return g.useEffect(()=>{l==="business_unit"&&v({data:{id_business_unit:[h.id_business_unit]}})},[]),g.useEffect(()=>{k({})},[]),g.useEffect(()=>{m(nt("Dashboard V2"))},[m]),r("div",{className:"pt-5",children:[t("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),!(i!=null&&i.id_business_unit)&&t(it,{initialValues:{id_business_unit:""},onSubmit:o=>{o.id_business_unit===null?N.fire({icon:"warning",title:"กรุณาเลือกหน่วยธุรกิจเพื่อค้นหา",padding:"10px 20px"}):v({data:{id_business_unit:l==="admin"?o.id_business_unit:[o.id_business_unit]}})},enableReinitialize:!0,children:t(lt,{children:l==="admin"&&t(U,{children:r("div",{className:"w-full flex flex-wrap items-end gap-4 pt-6 mb-6 min-[1141px]:max-w-[634px]",children:[t(rt,{id:"bu",label:"หน่วยธุรกิจ",className:"z-10 flex-1 min-w-[250px]",name:"id_business_unit",options:f,isSearchable:!0,isMulti:!0,onChange:o=>{}}),t("button",{type:"submit",className:"btn btn-success gap-2 h-[40px] px-4 whitespace-nowrap",children:"ค้นหา"})]})})})}),t("div",{className:"grid grid-cols-1 xl:grid-cols-1 gap-4",children:A?r(U,{children:[t(R,{className:"min-h-[200px]",borderRadius:8}),t(R,{className:"min-h-[200px]",borderRadius:8}),t(R,{className:"min-h-[200px]",borderRadius:8}),t(R,{className:"min-h-[200px]",borderRadius:8})]}):r(U,{children:[t("div",{className:"flex bg-white items-center justify-center min-h-[100px] bg-cover bg-center bg-no-repeat rounded-lg ",style:{backgroundImage:"url('https://t3.ftcdn.net/jpg/08/55/60/54/360_F_855605431_u6po8au4Ma8CAdY5GDtfFt6AcuLmqq9b.jpg')",backgroundSize:"cover"},children:r("div",{className:"border h-full rounded-lg shadow-sm pt-4 bg-black/20 backdrop-blur-sm border border-white/50 rounded-lg shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] text-white relative before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none",children:[t("h1",{className:"text-xl font-semibold px-4",children:"บัญชีสัญญา"}),r("table",{className:"w-full table-fixed border-collapse",children:[r("tr",{className:"h-[50px]",children:[t("th",{className:"w-1/4 text-left px-4",children:"รายการ"}),t("th",{className:"w-1/4",children:"เมื่อวานนี้"}),t("th",{className:"w-1/4",children:"เดือนนี้"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 1 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 3 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 6 เดือน"}),t("th",{className:"w-1/4",children:"ปีนี้"}),t("th",{className:"w-1/4",children:"ทั้งหมด"})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"จำนวนสัญญาที่อนุมัติ"}),t("th",{children:n((E=e==null?void 0:e.contract)==null?void 0:E.appv.today)}),t("th",{children:n((S=e==null?void 0:e.contract)==null?void 0:S.appv.month)}),t("th",{children:n((d=e==null?void 0:e.contract)==null?void 0:d.appv.month_1)}),t("th",{children:n((y=e==null?void 0:e.contract)==null?void 0:y.appv.month_3)}),t("th",{children:n((s=e==null?void 0:e.contract)==null?void 0:s.appv.month_6)}),t("th",{children:n((c=e==null?void 0:e.contract)==null?void 0:c.appv.year)}),t("th",{children:n((w=e==null?void 0:e.contract)==null?void 0:w.appv.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"มูลค่าสัญญาทั้งหมด"}),t("th",{children:n((x=e==null?void 0:e.contract)==null?void 0:x.price_total.today)}),t("th",{children:n((T=e==null?void 0:e.contract)==null?void 0:T.price_total.month)}),t("th",{children:n((I=e==null?void 0:e.contract)==null?void 0:I.price_total.month_1)}),t("th",{children:n((P=e==null?void 0:e.contract)==null?void 0:P.price_total.month_3)}),t("th",{children:n((O=e==null?void 0:e.contract)==null?void 0:O.price_total.month_6)}),t("th",{children:n((M=e==null?void 0:e.contract)==null?void 0:M.price_total.year)}),t("th",{children:n((L=e==null?void 0:e.contract)==null?void 0:L.price_total.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"เงินดาวน์"}),t("th",{children:n((j=e==null?void 0:e.contract)==null?void 0:j.down_payment.today)}),t("th",{children:n((H=e==null?void 0:e.contract)==null?void 0:H.down_payment.month)}),t("th",{children:n((G=e==null?void 0:e.contract)==null?void 0:G.down_payment.month_1)}),t("th",{children:n((V=e==null?void 0:e.contract)==null?void 0:V.down_payment.month_3)}),t("th",{children:n((F=e==null?void 0:e.contract)==null?void 0:F.down_payment.month_6)}),t("th",{children:n((K=e==null?void 0:e.contract)==null?void 0:K.down_payment.year)}),t("th",{children:n((Y=e==null?void 0:e.contract)==null?void 0:Y.down_payment.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"ค่าดำเนินการให้เช่าซื้อ"}),t("th",{children:n((B=e==null?void 0:e.contract)==null?void 0:B.fee.today)}),t("th",{children:n((W=e==null?void 0:e.contract)==null?void 0:W.fee.month)}),t("th",{children:n((z=e==null?void 0:e.contract)==null?void 0:z.fee.month_1)}),t("th",{children:n((J=e==null?void 0:e.contract)==null?void 0:J.fee.month_3)}),t("th",{children:n((X=e==null?void 0:e.contract)==null?void 0:X.fee.month_6)}),t("th",{children:n((q=e==null?void 0:e.contract)==null?void 0:q.fee.year)}),t("th",{children:n((Q=e==null?void 0:e.contract)==null?void 0:Q.fee.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"ต้นทุนสินค้า"}),t("th",{children:n((Z=e==null?void 0:e.contract)==null?void 0:Z.principle.today)}),t("th",{children:n(($=e==null?void 0:e.contract)==null?void 0:$.principle.month)}),t("th",{children:n((D=e==null?void 0:e.contract)==null?void 0:D.principle.month_1)}),t("th",{children:n((ee=e==null?void 0:e.contract)==null?void 0:ee.principle.month_3)}),t("th",{children:n((te=e==null?void 0:e.contract)==null?void 0:te.principle.month_6)}),t("th",{children:n((ne=e==null?void 0:e.contract)==null?void 0:ne.principle.year)}),t("th",{children:n((re=e==null?void 0:e.contract)==null?void 0:re.principle.all)})]})]})]})}),t("div",{className:"flex bg-white items-center justify-center min-h-[100px] bg-cover bg-center bg-no-repeat rounded-lg ",style:{backgroundImage:"url('https://images.pexels.com/photos/281260/pexels-photo-281260.jpeg?cs=srgb&dl=pexels-francesco-ungaro-281260.jpg&fm=jpg')",backgroundSize:"cover"},children:r("div",{className:"border h-full rounded-lg shadow-sm pt-4 bg-black/20 backdrop-blur-sm border border-white/50 rounded-lg shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] text-white relative before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none",children:[t("h1",{className:"text-xl font-semibold px-4",children:"บัญชีลูกหนี้"}),r("table",{className:"w-full table-fixed border-collapse",children:[r("tr",{className:"h-[50px]",children:[t("th",{className:"w-1/4 text-left px-4",children:"รายการ"}),t("th",{className:"w-1/4",children:"เมื่อวานนี้"}),t("th",{className:"w-1/4",children:"เดือนนี้"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 1 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 3 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 6 เดือน"}),t("th",{className:"w-1/4",children:"ปีนี้"}),t("th",{className:"w-1/4",children:"ทั้งหมด"})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"บัญชีลูกหนี้"}),t("th",{children:n((ie=e==null?void 0:e.debtor)==null?void 0:ie.outstanding.today)}),t("th",{children:n((le=e==null?void 0:e.debtor)==null?void 0:le.outstanding.month)}),t("th",{children:n((se=e==null?void 0:e.debtor)==null?void 0:se.outstanding.month_1)}),t("th",{children:n((ce=e==null?void 0:e.debtor)==null?void 0:ce.outstanding.month_3)}),t("th",{children:n((oe=e==null?void 0:e.debtor)==null?void 0:oe.outstanding.month_6)}),t("th",{children:n((pe=e==null?void 0:e.debtor)==null?void 0:pe.outstanding.year)}),t("th",{children:n((me=e==null?void 0:e.debtor)==null?void 0:me.outstanding.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"รับชำระแล้ว"}),t("th",{children:n((he=e==null?void 0:e.debtor)==null?void 0:he.paid.today)}),t("th",{children:n((_e=e==null?void 0:e.debtor)==null?void 0:_e.paid.month)}),t("th",{children:n((ue=e==null?void 0:e.debtor)==null?void 0:ue.paid.month_1)}),t("th",{children:n((ae=e==null?void 0:e.debtor)==null?void 0:ae.paid.month_3)}),t("th",{children:n((fe=e==null?void 0:e.debtor)==null?void 0:fe.paid.month_6)}),t("th",{children:n((de=e==null?void 0:e.debtor)==null?void 0:de.paid.year)}),t("th",{children:n((ge=e==null?void 0:e.debtor)==null?void 0:ge.paid.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"ค้างชำระ"}),t("th",{children:n((ye=e==null?void 0:e.debtor)==null?void 0:ye.price_total.today)}),t("th",{children:n((xe=e==null?void 0:e.debtor)==null?void 0:xe.price_total.month)}),t("th",{children:n((be=e==null?void 0:e.debtor)==null?void 0:be.price_total.month_1)}),t("th",{children:n((Ne=e==null?void 0:e.debtor)==null?void 0:Ne.price_total.month_3)}),t("th",{children:n((ve=e==null?void 0:e.debtor)==null?void 0:ve.price_total.month_6)}),t("th",{children:n((Ae=e==null?void 0:e.debtor)==null?void 0:Ae.price_total.year)}),t("th",{children:n((Ee=e==null?void 0:e.debtor)==null?void 0:Ee.price_total.all)})]})]})]})}),t("div",{className:"flex bg-white items-center justify-center min-h-[100px] bg-cover bg-center bg-no-repeat rounded-lg ",style:{backgroundImage:"url('https://static.vecteezy.com/system/resources/thumbnails/007/905/994/small_2x/starry-purple-night-sky-star-illustration-for-universe-space-astronomy-education-or-background-graphic-element-vector.jpg')",backgroundSize:"cover"},children:r("div",{className:"border min-h-[100px] rounded-lg shadow-sm pt-4 bg-black/20 backdrop-blur-sm border border-white/50 rounded-lg shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] text-white relative before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none",children:[t("h1",{className:"text-xl font-semibold px-4",children:"บัญชีรับชำระค่างวด"}),r("table",{className:"w-full table-fixed border-collapse",children:[r("tr",{className:"h-[50px]",children:[t("th",{className:"w-1/4 text-left px-4",children:"รายการ"}),t("th",{className:"w-1/4",children:"เมื่อวานนี้"}),t("th",{className:"w-1/4",children:"เดือนนี้"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 1 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 3 เดือน"}),t("th",{className:"w-1/4",children:"ย้อนหลัง 6 เดือน"}),t("th",{className:"w-1/4",children:"ปีนี้"}),t("th",{className:"w-1/4",children:"ทั้งหมด"})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"Pay solution"}),t("th",{children:n((we=e==null?void 0:e.payment)==null?void 0:we.ps.today)}),t("th",{children:n((Te=e==null?void 0:e.payment)==null?void 0:Te.ps.month)}),t("th",{children:n((Se=e==null?void 0:e.payment)==null?void 0:Se.ps.month_1)}),t("th",{children:n((Ie=e==null?void 0:e.payment)==null?void 0:Ie.ps.month_3)}),t("th",{children:n((Re=e==null?void 0:e.payment)==null?void 0:Re.ps.month_6)}),t("th",{children:n((ke=e==null?void 0:e.payment)==null?void 0:ke.ps.year)}),t("th",{children:n((Ue=e==null?void 0:e.payment)==null?void 0:Ue.ps.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"เงินสด/เงินโอนธนาคาร"}),t("th",{children:n((Ce=e==null?void 0:e.payment)==null?void 0:Ce.cash.today)}),t("th",{children:n((Pe=e==null?void 0:e.payment)==null?void 0:Pe.cash.month)}),t("th",{children:n((Oe=e==null?void 0:e.payment)==null?void 0:Oe.cash.month_1)}),t("th",{children:n((Me=e==null?void 0:e.payment)==null?void 0:Me.cash.month_3)}),t("th",{children:n((Le=e==null?void 0:e.payment)==null?void 0:Le.cash.month_6)}),t("th",{children:n((je=e==null?void 0:e.payment)==null?void 0:je.cash.year)}),t("th",{children:n((He=e==null?void 0:e.payment)==null?void 0:He.cash.all)})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{className:"text-left px-4",children:"รวมเป็นเงิน"}),t("th",{children:n((Ge=e==null?void 0:e.payment)==null?void 0:Ge.total.today)}),t("th",{children:n((Ve=e==null?void 0:e.payment)==null?void 0:Ve.total.month)}),t("th",{children:n((Fe=e==null?void 0:e.payment)==null?void 0:Fe.total.month_1)}),t("th",{children:n((Ke=e==null?void 0:e.payment)==null?void 0:Ke.total.month_3)}),t("th",{children:n((Ye=e==null?void 0:e.payment)==null?void 0:Ye.total.month_6)}),t("th",{children:n((Be=e==null?void 0:e.payment)==null?void 0:Be.total.year)}),t("th",{children:n((We=e==null?void 0:e.payment)==null?void 0:We.total.all)})]})]})]})}),t("div",{className:"flex bg-white items-center justify-center min-h-[100px] bg-cover bg-center bg-no-repeat rounded-lg ",style:{backgroundImage:"url('https://images.pexels.com/photos/7130560/pexels-photo-7130560.jpeg?_gl=1*sm4vee*_ga*ODQ4ODI1MTI0LjE3NTc1OTkyMjc.*_ga_8JE65Q40S6*czE3NTc1OTkyMjckbzEkZzAkdDE3NTc1OTkyMjckajYwJGwwJGgw')",backgroundSize:"cover"},children:r("div",{className:"border h-full rounded-lg shadow-sm pt-4 bg-black/20 backdrop-blur-sm border border-white/50 rounded-lg shadow-[inset_0_1px_0px_rgba(255,255,255,0.75),0_0_9px_rgba(0,0,0,0.2),0_3px_8px_rgba(0,0,0,0.15)] text-white relative before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-white/60 before:via-transparent before:to-transparent before:opacity-70 before:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:bg-gradient-to-tl after:from-white/30 after:via-transparent after:to-transparent after:opacity-50 after:pointer-events-none",children:[t("h1",{className:"text-xl font-semibold px-4",children:"สัญญาที่ชำระเกินกำหนด"}),r("table",{className:"w-full table-fixed border-collapse",children:[r("tr",{className:"h-[50px]",children:[t("th",{className:"w-1/4",children:"ระยะที่ 1"}),t("th",{className:"w-1/4",children:"ระยะที่ 2"}),t("th",{className:"w-1/4",children:"ระยะที่ 3"}),t("th",{className:"w-1/4",children:"ระยะที่ 4"}),t("th",{className:"w-1/4"})]}),r("tr",{className:"h-[50px] border-t",children:[t("th",{children:n((ze=e==null?void 0:e.pay_late)==null?void 0:ze.contract_late_payed_code_20)}),t("th",{children:n((Je=e==null?void 0:e.pay_late)==null?void 0:Je.contract_late_payed_code_21)}),t("th",{children:n((Xe=e==null?void 0:e.pay_late)==null?void 0:Xe.contract_late_payed_code_22)}),t("th",{children:n((qe=e==null?void 0:e.pay_late)==null?void 0:qe.contract_late_payed_code_48)}),t("th",{})]})]})]})})]})})]})};export{Nt as default};
