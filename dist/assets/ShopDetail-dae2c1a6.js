import{u as H,a as j,r as o,s as F,i as G,j as e,f as s,F as K,t as c}from"./index-a90aa29c.js";import{u as V}from"./useShopMutation-084b0c2e.js";import{F as B,a as W}from"./formik.esm-c4fd04ca.js";import{u as Y,G as z,M as X}from"./esm-fca376a3.js";import{d as $,g as q}from"./constant-e85f1578.js";import{I as i}from"./InputField-d7971719.js";import{S as _}from"./SelectField-917481a8.js";import{B as Z}from"./breadcrumbs-b9914bbc.js";import{d as J}from"./formatNumeric-862380d6.js";import{u as Q,a as ee}from"./useProvincesMutation-f0b4cb29.js";import{L as te}from"./List-d89e4870.js";import{$ as n}from"./tabs-dd3b1363.js";import"./react-select.esm-b46d9623.js";import"./createSuper-98fcd92d.js";import"./floating-ui.dom-0aeb9e8a.js";import"./lodash-f7ec5310.js";import"./index-2f30bf27.js";import"./IconPlus-4c7e79c8.js";import"./IconEdit-bf2b08f0.js";import"./config-8de56c22.js";import"./IconX-54a3093e.js";import"./object-7405de1d.js";import"./_defineProperty-6dbd93ca.js";import"./_baseIsEqual-06123cd3.js";import"./isObjectLike-b76e75a8.js";import"./isSymbol-15555f2d.js";import"./sweetalert2.all-ca2d1030.js";import"./preLoading-b2445d9d.js";import"./transition-d4ca4cfa.js";import"./keyboard-f171a3e5.js";import"./use-is-mounted-22b05dcc.js";import"./bugs-a60d55c3.js";import"./use-resolve-button-type-789d628c.js";const re={username:"",name:"",tax_id:"",password:"",password_repeat:"",contact_name:"",phone_number:"",line_id:"",facebook_id:"",website:"",email:"",address:"",id_province:"",latitude:"",longitude:"",is_active:!0,is_approved:!0,bank_no:"",bank_account:"",bank_name:""},se="admin",Oe=()=>{const g=H(),y=j(),h=localStorage.getItem(se),m=h?JSON.parse(h).id_shop:null,v=[{label:"ข้อมูลร้านค้า",isCurrent:!0}];m||g("/"),o.useEffect(()=>{y(F("ข้อมูลร้านค้า"))});const A=G(a=>a.dataStore.provinces),[E,S]=o.useState([]),[f,T]=o.useState([]),[p,x]=o.useState($),[k,I]=o.useState(re),[P,D]=o.useState([]),{isLoaded:N}=Y({googleMapsApiKey:q}),{mutate:R,isLoading:C,isError:U}=V({onSuccess:a=>{const t=a.data;t.password="",t.password_repeat="",D((t==null?void 0:t.shop_banks)??[]),I(l=>({...l,...t,id:m})),L({id:t==null?void 0:t.id_province,type:"id_province"}),w({id:t==null?void 0:t.id_district,type:"id_district"}),t.latitude&&t.longitude&&x({lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)})}}),{mutate:L}=Q({onSuccess:(a,t)=>{const l=a.data.map(d=>({value:d.id,label:d.name_th}));switch(t.type){case"id_province":S(l);break}},onError:a=>{}}),{mutate:w}=ee({onSuccess:(a,t)=>{const l=a.data.map(d=>({value:d.id,label:d.name_th,zipCode:d.zip_code}));switch(t.type){case"id_district":T(l);break}},onError:a=>{}});o.useEffect(()=>{R({data:{id:m}})},[]);const M=(a,t,l)=>{a.setFieldValue(l,t.value)};return!N||C||U?e("div",{children:"Loading..."}):s(K,{children:[e(Z,{items:v}),e("div",{className:"flex xl:flex-row flex-col gap-2.5 mt-3",children:e("div",{className:"panel px-6 flex-1 py-6 ltr:xl:mr-6 rtl:xl:ml-6",children:e(B,{initialValues:k,onSubmit:()=>console.log("Submit"),enableReinitialize:!0,autoComplete:"off",children:a=>{var t,l,d,b;return s(W,{className:"space-y-5 dark:text-white ",children:[e("div",{className:"text-lg font-semibold ltr:sm:text-left rtl:sm:text-right text-center",children:"บัญชีร้านค้า"}),e("div",{children:s(n.Group,{children:[s(n.List,{className:"mt-3 flex flex-wrap border-b border-white-light dark:border-[#191e3a]",children:[e(n,{as:o.Fragment,children:({selected:r})=>e("button",{className:`${r?"!border-white-light !border-b-white  text-themePrimary !outline-none dark:!border-[#191e3a] dark:!border-b-black ":""} dark:hover:border-b-black' -mb-[1px] block border border-transparent p-3.5 py-2 hover:text-themePrimary`,children:"บัญชีร้านค้า"})}),!((t=c.features)!=null&&t.shop_user)&&e(n,{as:o.Fragment,children:({selected:r})=>e("button",{className:`${r?"!border-white-light !border-b-white  text-themePrimary !outline-none dark:!border-[#191e3a] dark:!border-b-black ":""} dark:hover:border-b-black' -mb-[1px] block border border-transparent p-3.5 py-2 hover:text-themePrimary`,children:"บัญชีผู้ใช้งาน"})}),e(n,{as:o.Fragment,children:({selected:r})=>e("button",{className:`${r?"!border-white-light !border-b-white  text-themePrimary !outline-none dark:!border-[#191e3a] dark:!border-b-black ":""} dark:hover:border-b-black' -mb-[1px] block border border-transparent p-3.5 py-2 hover:text-themePrimary`,children:"บัญชีธนาคาร"})}),((l=c.features)==null?void 0:l.shop_user)&&e(n,{as:o.Fragment,children:({selected:r})=>e("button",{className:`${r?"!border-white-light !border-b-white  text-themePrimary !outline-none dark:!border-[#191e3a] dark:!border-b-black":""} dark:hover:border-b-black' -mb-[1px] block border border-transparent p-3.5 py-2 hover:text-themePrimary`,children:"พนักงาน"})})]}),s(n.Panels,{children:[s(n.Panel,{children:[e("div",{className:"input-flex-row pt-2",children:e("div",{className:"check-container",children:e(i,{label:"เลขประจำตัวผู้เสียภาษี",name:"tax_id",type:"text",disabled:!0,maxLength:13})})}),e("hr",{className:"mt-4"}),s("div",{className:"input-flex-row mt-4",children:[e(i,{label:"ชื่อร้าน",name:"name",type:"text",disabled:!0}),e(i,{label:"ชื่อผู้ติดต่อ",name:"contact_name",type:"text",disabled:!0})]}),s("div",{className:"input-flex-row",children:[e(i,{label:"เบอร์โทรศัพท์",name:"phone_number",type:"text",disabled:!0}),e(i,{label:"Line ID",name:"line_id",type:"text",disabled:!0})]}),s("div",{className:"input-flex-row",children:[e(i,{label:"Facebook ID",name:"facebook_id",type:"text",disabled:!0}),e(i,{label:"เว็บไซต์",name:"website",type:"text",disabled:!0})]}),e("div",{className:"input-flex-row",children:e(i,{label:"อีเมล",name:"email",type:"text",disabled:!0})}),s("div",{className:"input-flex-row",children:[e(i,{label:"ที่อยู่",name:"address",as:"textarea",rows:"1",placeholder:"กรุณาใส่ข้อมูล",className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none resize-none",disabled:!0}),e(_,{label:"จังหวัด",id:"id_province",name:"id_province",options:A,placeholder:"กรุณาเลือก",onChange:r=>M(a,r,"id_province"),isSearchable:!1,disabled:!0})]}),s("div",{className:"input-flex-row",children:[e(_,{require:!0,label:"อำเภอ/เขต",id:"id_district",name:"id_district",placeholder:"กรุณาเลือก",options:E,disabled:!0}),e(_,{require:!0,label:"ตำบล/แขวง",id:"id_subdistrict",name:"id_subdistrict",placeholder:"กรุณาเลือก",options:f,disabled:!0})]}),s("div",{className:"input-flex-row",children:[e(i,{label:"Latitude",name:"latitude",type:"text",disabled:!0}),e(i,{label:"Longitude",name:"longitude",type:"text",disabled:!0})]}),s("div",{className:"input-flex-row",children:[e(i,{label:"รหัสไปรษณีย์",name:"zip_code",as:"textarea",rows:"1",disabled:!0}),e("div",{className:"blank-container"})]}),e("div",{className:"input-flex-row mb-3",children:e(z,{mapContainerStyle:{height:"400px",width:"100%"},zoom:13,center:p,onClick:r=>null,children:p&&e(X,{position:{lat:p.lat,lng:p.lng}})})})]}),!((d=c.features)!=null&&d.shop_user)&&e(n.Panel,{children:e("div",{className:"input-flex-row pt-2",children:e(i,{label:"ชื่อผู้ใช้งาน",name:"username",type:"text",disabled:!0})})}),e(n.Panel,{children:e("div",{className:"mt-5 pt-2 panel p-0 border-0 overflow-hidden",children:e("div",{className:"table-responsive",children:s("table",{className:"table-striped table-hover",children:[e("thead",{children:s("tr",{children:[e("th",{children:"ลำดับ"}),e("th",{children:"ชื่อบัญชีธนาคาร"}),e("th",{children:"ธนาคาร"}),e("th",{children:"เลขบัญชีธนาคาร"})]})}),e("tbody",{children:P.map((r,O)=>{var u;return s("tr",{children:[e("td",{children:e("div",{className:"flex items-center w-max",children:e("div",{children:O+1})})}),e("td",{children:r==null?void 0:r.bank_account_name}),e("td",{children:(u=r==null?void 0:r.bank)==null?void 0:u.name}),e("td",{children:J(r==null?void 0:r.bank_account_number)})]},r.id)})})]})})})}),((b=c.features)==null?void 0:b.shop_user)&&e(n.Panel,{children:e(te,{})})]})]})})]})}})})})]})};export{Oe as default};
