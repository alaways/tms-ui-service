import{a as D,u as U,an as C,i as N,r as a,c as O,s as M,b as L,f as n,j as s,v as x,g as H}from"./index-a90aa29c.js";import{P as u}from"./config-8de56c22.js";import{c as k,b as j}from"./formatNumeric-862380d6.js";import{Q as w}from"./index-2f30bf27.js";import{B as G}from"./breadcrumbs-b9914bbc.js";/* empty css              */import"./floating-ui.dom-0aeb9e8a.js";const V="admin",Z=()=>{const i=D(),p=U(),{buid:c,id:b}=C(),_=localStorage.getItem(V),t=_?JSON.parse(_):null,r=t?t==null?void 0:t.role:null,g=t?t==null?void 0:t.id_business_unit:null,o=N(e=>e.dataStore.shopGroupBuConfig),[d,m]=a.useState(1),[h,A]=a.useState(u[0]),[E,T]=a.useState(0),[S,y]=a.useState(""),[v,f]=a.useState([]),{mutate:P}=O(H.shopGroupShopGetFind,{onSuccess:e=>{f(e.data.list),T(e.data.pages.total)},onError:()=>{console.error("Failed to fetch asset type data")}}),I=[{to:"/apps/shop-group/list",label:"กลุ่มร้าน"},{label:"รายการ",isCurrent:!0}];return a.useEffect(()=>{i(M("รายการร้านค้า")),i(L(["bu","/apps/shop-group/list"]))},[i]),a.useEffect(()=>{r!=="admin"&&r!=="business_unit"&&p("/"),r==="business_unit"&&g!=c&&p("/")},[r,p]),a.useEffect(()=>{P({data:{id_business_unit:parseInt(c||o.business_unit.id),id_shop_group:parseInt(b||o.id)}})},[d,h,o.business_unit.id,o.id]),n("div",{children:[s(G,{items:I}),s("div",{className:"panel px-0 border-white-light dark:border-[#1b2e4b] mt-5",children:n("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4.5 px-5 ",children:[n("h2",{className:"text-xl",children:["ชื่อธุรกิจ | ชื่อกลุ่มร้าน : ",o==null?void 0:o.name]}),s("div",{className:"flex sm:flex-row flex-col sm:items-center sm:gap-3 gap-4 w-full sm:w-auto",children:n("div",{className:"relative",children:[s("input",{type:"text",placeholder:"ค้นหา",className:"form-input py-2 ltr:pr-11 rtl:pl-11 peer",value:S,onChange:e=>y(e.target.value)}),s("button",{type:"button",className:"absolute ltr:right-[11px] rtl:left-[11px] top-1/2 -translate-y-1/2 peer-focus:text-primary",children:s(x,{className:"mx-auto"})})]})})]})}),s("div",{className:"datatables pagination-padding",children:s(w,{className:"whitespace-nowrap table-hover invoice-table",records:v,columns:[{accessor:"id",title:"ลำดับ",sortable:!1,render:(e,l)=>s("div",{children:l+1})},{accessor:"tax_id",title:"เลขผู้เสียภาษี",sortable:!1,render:e=>s("div",{className:"flex items-center font-normal",children:s("div",{children:k((e==null?void 0:e.tax_id)??"")})})},{accessor:"name",title:"ชื่อร้าน",sortable:!1,render:e=>s("div",{className:"flex items-center font-normal",children:s("div",{children:(e==null?void 0:e.name)??""})})},{accessor:"phone_number",title:"เบอร์โทรศัพท์",sortable:!1,render:e=>s("div",{className:"flex items-center font-normal",children:s("div",{children:j((e==null?void 0:e.phone_number)??"")})})}],highlightOnHover:!0,page:d,totalRecords:E,recordsPerPage:h,recordsPerPageOptions:u,onPageChange:e=>m(e),onRecordsPerPageChange:e=>{m(1),A(e)},paginationText:({from:e,to:l,totalRecords:R})=>`โชว์ ${e} ถึง ${l} ของ ${R} หน้าทั้งหมด`})})]})};export{Z as default};
