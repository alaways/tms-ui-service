import{a as K,u as O,ar as Q,r as a,c as R,s as U,f as t,j as s,L as V,g as X}from"./index-a90aa29c.js";import{S as Y}from"./sweetalert2.all-ca2d1030.js";import{c as Z,b as M,n as l}from"./formatNumeric-862380d6.js";/* empty css                */import{P as y}from"./preLoading-b2445d9d.js";const ae=()=>{var n,o,h,m,f,u,b,x,N,v,k,_,j,g,p,w,I,E,L,S,D,$,C;const d=K(),z=O(),F=Q(),[e,B]=a.useState(),{installmentLast:G,contractID:c,ins_no:T}=F.state||{},{mutate:r,isLoading:W}=R(X.customerPaymentPreviewFind,{onSuccess:i=>{B(i.data)},onError:()=>{H("Failed to fetch business units")}}),q=()=>{z("/apps/customer-payment/payment",{state:{contractID:c,ins_no:T,payment_preview:e}})};a.useEffect(()=>{d(U("ใบแจ้งหนี้ (Invoice)"))},[d]),a.useEffect(()=>{r({data:{id_installment:G,id_contract:c}})},[r]);const A=(i,J)=>{Y.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3}).fire({icon:J,title:i,padding:"10px 20px"})},H=i=>{A(i,"error")};return t("div",{children:[W&&s(y,{}),t("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[s("li",{children:s(V,{to:"/apps/customer-payment/list",className:"text-primary hover:underline",children:"หน้าหลัก"})}),s("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:t("span",{children:["เลขที่สัญญา ",e==null?void 0:e.reference]})})]}),s("div",{className:"py-5 animate__animated",children:t("div",{className:"panel !px-0",children:[t("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"text-2xl font-semibold uppercase",children:"ใบแจ้งหนี้ (Invoice)"}),s("div",{className:"shrink-0 py-10 invoice-logo",children:s("img",{src:(n=e==null?void 0:e.business_unit)==null?void 0:n.logo_image_url,alt:"img",className:"w-36 ltr:ml-auto rtl:mr-auto"})})]}),s("div",{className:"ltr:text-left rtl:text-left px-4",children:s("div",{className:"space-y-1 mt-6 text-white-dark",children:t("div",{children:[" เลขที่สัญญา: ",e==null?void 0:e.reference]})})}),s("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),t("div",{className:"ltr:text-left rtl:text-left px-6",children:[t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ชื่อธุรกิจ :"}),s("div",{children:(o=e==null?void 0:e.business_unit)==null?void 0:o.name})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ที่อยู่ :"}),t("div",{children:[(h=e==null?void 0:e.business_unit)==null?void 0:h.address,` ${((f=(m=e==null?void 0:e.business_unit)==null?void 0:m.subdistrict)==null?void 0:f.name_th)??""}`,` ${((b=(u=e==null?void 0:e.business_unit)==null?void 0:u.district)==null?void 0:b.name_th)??""}`,` ${((N=(x=e==null?void 0:e.business_unit)==null?void 0:x.province)==null?void 0:N.name_th)??""}`,` ${((v=e==null?void 0:e.business_unit)==null?void 0:v.zip_code)??""}`]})]}),t("div",{className:"flex items-center w-full justify-between data-responsive",children:[s("div",{className:"text-white-dark",children:"โทรศัพท์ :"}),s("div",{children:((k=e==null?void 0:e.business_unit)==null?void 0:k.phone)??""})]})]}),s("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),t("div",{className:"ltr:text-left rtl:text-left px-6",children:[t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ชื่อ :"}),s("div",{children:((_=e==null?void 0:e.customer)==null?void 0:_.name)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"เลขบัตรประจำตัวประชาชน :"}),s("div",{children:Z(((j=e==null?void 0:e.customer)==null?void 0:j.citizen_id)??"")})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"เบอร์หลัก :"}),s("div",{children:M(((g=e==null?void 0:e.customer)==null?void 0:g.phone_number)??"")})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"เบอร์อ้างอิง :"}),s("div",{children:M(((p=e==null?void 0:e.customer)==null?void 0:p.phone_number_ref)??"")})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ที่อยู่ปัจจุบัน :"}),s("div",{children:((w=e==null?void 0:e.customer)==null?void 0:w.full_current_address)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ที่อยู่ที่ทำงาน :"}),s("div",{children:((I=e==null?void 0:e.customer)==null?void 0:I.full_work_address)??""})]})]}),s("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),t("div",{className:"ltr:text-left rtl:text-left px-6",children:[t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ชื่อสินทรัพย์ :"}),s("div",{children:((E=e==null?void 0:e.asset)==null?void 0:E.name)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"IMEI/SN :"}),s("div",{children:((L=e==null?void 0:e.asset)==null?void 0:L.imei)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"รหัสรุ่น :"}),s("div",{children:((S=e==null?void 0:e.asset)==null?void 0:S.serial_number)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"สี :"}),s("div",{children:((D=e==null?void 0:e.asset)==null?void 0:D.color)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ความจุ :"}),s("div",{children:(($=e==null?void 0:e.asset)==null?void 0:$.capacity)??""})]}),t("div",{className:"flex items-center w-full justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ข้อสังเกตุ :"}),s("div",{children:((C=e==null?void 0:e.asset)==null?void 0:C.note)??""})]})]}),s("div",{className:"my-4"}),s("div",{className:"border-b border-white-light p-6 text-[22px] font-bold dark:border-dark dark:text-white",children:"รายการ"}),t("div",{className:"p-6",children:[t("div",{className:"flex justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ค่างวด"}),s("div",{children:l((e==null?void 0:e.amount)??0)+" บาท"})]}),t("div",{className:"flex justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ค่าดำเนินการล่าช้า/วัน"}),s("div",{children:l((e==null?void 0:e.penalty_fee)??0)+" บาท"})]}),t("div",{className:"flex justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ค่าติดตาม"}),s("div",{children:l((e==null?void 0:e.tracking_fee)??0)+" บาท"})]}),e!=null&&e.unlock_fee?t("div",{className:"flex justify-between mb-2 data-responsive",children:[s("div",{className:"text-white-dark",children:"ค่าปลดล็อค"}),s("div",{children:l(e==null?void 0:e.unlock_fee)+" บาท"})]}):null,t("div",{className:"flex justify-between font-bold text-[22px] mt-4 data-responsive",children:[s("div",{className:"text-white-dark",children:"รวมเป็นเงิน"}),s("div",{className:"total",children:l(e==null?void 0:e.total)+" บาท"})]})]}),s("div",{className:"p-6",children:s("button",{className:"bg-black text-white w-full py-3 font-bold",onClick:()=>q(),children:"ชำระเงิน"})})]})})]})};export{ae as default};
