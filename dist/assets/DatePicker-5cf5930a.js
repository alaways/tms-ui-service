import{r as o,f as i,j as f,a1 as k}from"./index-a90aa29c.js";import{F as Y}from"./flatpickr-2301360e.js";import{u as $,b,E as D}from"./formik.esm-c4fd04ca.js";const E=w=>({label:n,name:a,placeholder:x,require:F=!1,enableTime:u=!1,rows:d=!1,isRange:e=!1,...c})=>{const[t,m]=$(a),{setFieldValue:p,setFieldTouched:h,values:M}=b(),[r,v]=o.useState(t.value||(e?[]:null)),N=m.touched&&m.error;return o.useEffect(()=>{(e&&JSON.stringify(r)!==JSON.stringify(t.value)||!e&&r!==t.value)&&(p(a,r),h(a,!0))},[r,p,h,a,e]),o.useEffect(()=>{(e&&JSON.stringify(t.value)!==JSON.stringify(r)||!e&&t.value!==r)&&v(t.value||(e?[]:null))},[t.value,e]),i("div",{className:`input-container ${d?"flex flex-row gap-3 items-center":""}`,children:[n&&i("label",{htmlFor:a,children:[n,F&&f("span",{className:"text-rose-600",children:" * "})]}),i("div",{className:`${N?"relative has-error":"relative text-white-dark"} ${d?"flex-1":""}`,children:[f(Y,{value:r,onChange:s=>v(e?s:s[0]||null),placeholder:x??"เลือกวันที่",className:c.disabled?"form-input disabled:bg-[#eee] dark:disabled:bg-[#1b2e4b]":"form-input placeholder:text-white-dark",options:{mode:e?"range":"single",enableTime:u,formatDate:s=>{let l=k.tz(new Date(s),"Asia/Bangkok");return u?`${l.format("DD/MM")}/${parseInt(l.format("YYYY"))+543} ${l.format("HH:mm")}`:`${l.format("DD/MM")}/${parseInt(l.format("YYYY"))+543}`}},...c}),f(D,{name:a,component:"div",className:"text-danger mt-1"})]})]})},J=E();export{J as F};
